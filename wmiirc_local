#    This program is free software: you can redistribute it and/or modify
#    it under the terms of the GNU General Public License as published by
#    the Free Software Foundation, either version 3 of the License, or
#    (at your option) any later version.
#
#    This program is distributed in the hope that it will be useful,
#    but WITHOUT ANY WARRANTY; without even the implied warranty of
#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#    GNU General Public License for more details.
#
#    You should have received a copy of the GNU General Public License
#    along with this program.  If not, see <http://www.gnu.org/licenses/>.
#
# Matthew Todd


MODKEY=Mod1

WMII_NORMCOLORS='#888888 #222222 #333333'
WMII_FOCUSCOLORS='#ffffff #285577 #4c7899'
WMII_BACKGROUND='#333333'

WMII_FONT='fixed'

WMII_TERM="urxvt -cd ~"

# statusbar info
status() {
	echo -n $(date)
}


# local events and key bindings
local_events() {
    cat <<'!'

Key XF86AudioRaiseVolume
        ~/.wmii/scripts/raise_volume.sh
        ~/.wmii/scripts/volume_status.py
Key XF86AudioLowerVolume
        ~/.wmii/scripts/lower_volume.sh
        ~/.wmii/scripts/volume_status.py
Key XF86AudioMute
        ~/.wmii/scripts/mute_volume.sh
        ~/.wmii/scripts/volume_status.py
Key Mod4-L
        ~/.wmii/scripts/lock_screen.sh
Key $MODKEY-Shift-u
        notify-send "keybinding test: alt-shift-u"

Key $MODKEY-Shift-m
        exec ~/.wmii/scripts/view.py next &
Key $MODKEY-Shift-n
        exec ~/.wmii/scripts/view.py prev &


Action halt
    sudo shutdown -h now

#Action test
#    wmiir create /rbar/test
#    echo 'test' | wmiir write /rbar/test

!
}

# Tagging Rules
wmiir write /tagrules <<!
/MPlayer|VLC/   -> ~
/Wicd*/         -> wireless
/Firefox/       -> sel+browser
/SpiderOak.*/   -> backup
/claws-mail.*/  -> mail
!



# Autostart some programs
autostart() {
    exec $@ &
}

# The sleeps are to ensure that they don't start to early
# prevents weird glitches with them starting before everything ready
# note that autostart doesn't work with chained commands
# started on its own
#bash -c "sleep 4 ; wicd-client -n" &                           # internet

bash -c "sleep 4 ; ~/.wmii/scripts/set_background.sh" &         # desktop background
bash -c "sleep 4 ; ~/.wmii/scripts/check_mail.sh" &
bash -c "sleep 4 ; conky -c ~/.conky/wmii_conkyrc" &
bash -c "sleep 4 ; ~/.wmii/scripts/volume_status.py" &          # add the volume info on startup
bash -c "sleep 4 ; ~/.wmii/scripts/caps_status.py" &

